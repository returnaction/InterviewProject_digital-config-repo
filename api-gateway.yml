# ================================
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API Gateway
# ================================
server:
  port: 9090  # –ü–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è gateway (http://localhost:9090)

spring:
  cloud:
    gateway:
      routes:
        # ================================
        # üéØ 1. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç: /user-service/**
        # –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤ user-service –Ω–∞–ø—Ä—è–º—É—é
        # –ù–∞–ø—Ä–∏–º–µ—Ä: /user-service/api/users ‚Üí http://localhost:8081/api/users
        # ================================
        - id: user-service
          uri: http://localhost:8081  # –ê–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–∫—Å–∏—Ä—É–µ–º
          predicates:
            - Path=/user-service/**  # –ö–∞–∫–∏–µ –ø—É—Ç–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º

        # ================================
        # üéØ 2. –ö—Ä–∞—Å–∏–≤—ã–π –º–∞—Ä—à—Ä—É—Ç: /api/users/**
        # –ë–µ–∑ –ª–∏—à–Ω–µ–≥–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞, –Ω–∞–ø—Ä—è–º—É—é
        # –ù–∞–ø—Ä–∏–º–µ—Ä: /api/users ‚Üí http://localhost:8081/api/users
        # ================================
        - id: user-service-clean
          uri: http://localhost:8081
          predicates:
            - Path=/api/users/**

      # ================================
      # –û—Ç–∫–ª—é—á–∞–µ–º DiscoveryLocator (–æ–Ω —Å–µ–π—á–∞—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
      # ================================
      discovery:
        locator:
          enabled: false  # ‚ùå –û—Ç–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ Eureka
          lower-case-service-id: true

# ================================
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Spring Boot Actuator
# ================================
management:
  endpoints:
    web:
      exposure:
        include: "*"  # –í–∫–ª—é—á–∞–µ–º –≤—Å–µ actuator endpoints: /actuator/health, /actuator/gateway/routes –∏ —Ç.–¥.

  endpoint:
    gateway:
      enabled: true  # –í–∫–ª—é—á–∞–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã gateway, –Ω–∞–ø—Ä–∏–º–µ—Ä /actuator/gateway/routes
